if("undefined"==typeof jQuery||null===jQuery||"undefined"==typeof STUDIP||null===STUDIP)throw"No valid Stud.IP environment";(function(i){var n;return n=function(i){return'<li class="item" id="ql-'+i.link_id+'" data-id="'+i.link_id+'">\n    <a class="hidden options" href="#">\n        <img src="'+STUDIP.ASSETS_URL+'/images/icons/16/blue/trash.png" alt="'+"entfernen".toLocaleString()+'">\n    </a>\n    <a href="'+i.link+'">'+i.title+"</a>\n</li>"},i(document).ready(function(){var t,e,l,c,s,r,a;return s=i("#barBottomright a").filter(function(){return"Quicklinks"===i(this).text()}),s.length>0?(a=s.closest("li"),e=s.attr("href"),r=function(){var i,t,e,l;for(e=STUDIP.Quicklinks.links,l=[],i=0,t=e.length;t>i;i++)c=e[i],l.push(n(c));return l}(),l='<div class="quick-links list left">\n    <ul>\n        <li class="item trigger">\n            <a href="'+e+'" class="options">\n                <img src="'+STUDIP.ASSETS_URL+'/images/icons/16/blue/admin.png" alt="'+"Verwaltung".toLocaleString()+'">\n            </a>\n            <label>\n                <input type="checkbox">\n                <span>'+"Aktuelle Seite".toLocaleString()+"</span>\n            </label>\n        </li>\n        "+r.join("\n")+"\n    </ul>\n</div>",t=i(l),i(":checkbox",t).attr("checked",STUDIP.Quicklinks.id!==!1),a.append(t),a.hover(function(n){return i(this).toggleClass("hovered","mouseenter"===n.type)})):void 0}),i(".quick-links.list :checkbox").live("click",function(){var t,e,l=this;return e=STUDIP.Quicklinks.api,t={},this.checked?(e=e.replace("METHOD","store"),t.link=STUDIP.Quicklinks.uri,t.title=document.title):e=e.replace("METHOD","remove/"+STUDIP.Quicklinks.id),this.disabled=!0,i(this).showAjaxNotification(),i.post(e,t,function(t){var e,c;return null!=t.link_id?(e=i(n(t)),i(".quick-links.list ul").append(e.hide()),e.show("blind")):i("#ql-"+STUDIP.Quicklinks.id).hide("blind",function(){return i(this).remove()}),STUDIP.Quicklinks.id=null!=(c=t.link_id)?c:!1,l.disabled=!1,l.checked=null!=t.link_id,i(l).hideAjaxNotification()})}),i(".quick-links.list a.options").live("click",function(n){var t,e;return n.preventDefault(),t=""+i(this).closest(".item").data().id,e=STUDIP.Quicklinks.api.replace("METHOD","remove/"+t),i.post(e,function(){return i("#ql-"+t).hide("blind",function(){return i(this).remove()}),t===STUDIP.Quicklinks.id?(STUDIP.Quicklinks.id=!1,i(".quick-links.list :checkbox").attr("checked",!1)):void 0})}),i('table.quicklinks a[href*="links/move"]').live("click",function(n){var t,e=this;return n.preventDefault(),t=i(this).addClass("ajaxing").attr("href"),i(this).closest("tbody").find("td:last-child img").each(function(){var n;return i(this).closest("a").click(function(){return!1}),n=i(this).attr("src"),i(this).css("opacity",.5).attr("src",n.replace(/yellow|blue/,"grey"))}),i(this).closest("table").find(":checkbox").attr("disabled",!0),i.get(t,function(n){return i(e).closest("table.quicklinks").replaceWith(n)})}),i("table.quicklinks select[name=action]").live("change",function(){return i(this).next().attr("disabled",!i(this).val())}),i(document).ready(function(){return i("table.quicklinks select[name=action]").change()})})(jQuery);