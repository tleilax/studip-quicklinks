if("undefined"==typeof jQuery||null===jQuery||"undefined"==typeof STUDIP||null===STUDIP)throw"No valid Stud.IP environment";!function(i){var n;return n=function(i){return'<li class="item" id="ql-'+i.link_id+'" data-id="'+i.link_id+'">\n    <a class="hidden options" href="#">\n        <img src="'+STUDIP.ASSETS_URL+'/images/icons/16/blue/trash.png" alt="'+"entfernen".toLocaleString()+'">\n    </a>\n    <a href="'+i.link+'">'+i.title+"</a>\n</li>"},i(document).ready(function(){var t,e,l,r,c,s,u;return c=i("#barBottomright a").filter(function(){return"Quicklinks"===i(this).text()}),c.length>0?(u=c.closest("li"),e=c.attr("href"),s=function(){var i,t,e,l;for(e=STUDIP.Quicklinks.links,l=[],i=0,t=e.length;t>i;i++)r=e[i],l.push(n(r));return l}(),l='<div class="quick-links list left">\n    <ul>\n        <li class="item trigger">\n            <a href="'+e+'" class="options">\n                <img src="'+STUDIP.ASSETS_URL+'/images/icons/16/blue/admin.png" alt="'+"Verwaltung".toLocaleString()+'">\n            </a>\n            <label>\n                <input type="checkbox">\n                <span>'+"Aktuelle Seite".toLocaleString()+"</span>\n            </label>\n        </li>\n        "+s.join("\n")+"\n    </ul>\n</div>",t=i(l),i(":checkbox",t).attr("checked",STUDIP.Quicklinks.id!==!1),u.append(t),u.hover(function(n){return i(this).toggleClass("hovered","mouseenter"===n.type)})):void 0}),i(".quick-links.list :checkbox").live("click",function(){var t,e;return e=STUDIP.Quicklinks.api,t={},this.checked?(e=e.replace("METHOD","store"),t.link=STUDIP.Quicklinks.uri,t.title=document.title):e=e.replace("METHOD","remove/"+STUDIP.Quicklinks.id),this.disabled=!0,i(this).showAjaxNotification(),i.post(e,t,function(t){return function(e){var l,r;return null!=e.link_id?(l=i(n(e)),i(".quick-links.list ul").append(l.hide()),l.show("blind")):i("#ql-"+STUDIP.Quicklinks.id).hide("blind",function(){return i(this).remove()}),STUDIP.Quicklinks.id=null!=(r=e.link_id)?r:!1,t.disabled=!1,t.checked=null!=e.link_id,i(t).hideAjaxNotification()}}(this))}),i(".quick-links.list :not(:trigger) a.options").live("click",function(n){var t,e;return n.preventDefault(),t=""+i(this).closest(".item").data().id,e=STUDIP.Quicklinks.api.replace("METHOD","remove/"+t),i.post(e,function(){return i("#ql-"+t).hide("blind",function(){return i(this).remove()}),t===STUDIP.Quicklinks.id?(STUDIP.Quicklinks.id=!1,i(".quick-links.list :checkbox").attr("checked",!1)):void 0})}),i('table.quicklinks a[href*="links/move"]').live("click",function(n){var t;return n.preventDefault(),t=i(this).addClass("ajaxing").attr("href"),i(this).closest("tbody").find("td:last-child img").each(function(){var n;return i(this).closest("a").click(function(){return!1}),n=i(this).attr("src"),i(this).css("opacity",.5).attr("src",n.replace(/yellow|blue/,"grey"))}),i(this).closest("table").find(":checkbox").attr("disabled",!0),i.get(t,function(n){return function(t){return i(n).closest("table.quicklinks").replaceWith(t)}}(this))})}(jQuery);